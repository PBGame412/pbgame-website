<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plants vs Zombies - Mini Gra</title>
    <style>
        body {
            background-color: #7ec850;
            font-family: Arial, sans-serif;
        }
        #game {
            width: 800px;
            height: 400px;
            border: 2px solid black;
            position: relative;
            overflow: hidden;
            background: url('grass.png') repeat;
        }
        .plant, .zombie, .bullet {
            position: absolute;
        }
        .plant {
            width: 50px;
            height: 50px;
            background: url('plant.png') no-repeat center/cover;
        }
        .zombie {
            width: 50px;
            height: 50px;
            background: url('zombie.png') no-repeat center/cover;
        }
        .bullet {
            width: 10px;
            height: 10px;
            background: red;
            border-radius: 50%;
        }
        #gameOverScreen {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 10px;
        }
        #restartButton {
            margin-top: 10px;
            padding: 10px;
            background: red;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Plants vs Zombies - Mini Gra</h1>
    <div id="game"></div>
    <div id="gameOverScreen">
        <h2>Koniec Gry!</h2>
        <button id="restartButton">Restart</button>
    </div>
    <script>
        const game = document.getElementById("game");
        const gameOverScreen = document.getElementById("gameOverScreen");
        const restartButton = document.getElementById("restartButton");

        class Plant {
            constructor(x, y) {
                this.element = document.createElement("div");
                this.element.classList.add("plant");
                this.element.style.left = `${x}px`;
                this.element.style.top = `${y}px`;
                game.appendChild(this.element);
                this.shoot();
            }
            shoot() {
                setInterval(() => {
                    const bullet = document.createElement("div");
                    bullet.classList.add("bullet");
                    bullet.style.left = `${parseInt(this.element.style.left) + 40}px`;
                    bullet.style.top = `${parseInt(this.element.style.top) + 20}px`;
                    game.appendChild(bullet);
                    this.moveBullet(bullet);
                }, 2000);
            }
            moveBullet(bullet) {
                let interval = setInterval(() => {
                    bullet.style.left = `${parseInt(bullet.style.left) + 5}px`;
                    if (parseInt(bullet.style.left) > 800) {
                        bullet.remove();
                        clearInterval(interval);
                    }
                }, 50);
            }
        }

        class Zombie {
            constructor(x, y) {
                this.element = document.createElement("div");
                this.element.classList.add("zombie");
                this.element.style.left = `${x}px`;
                this.element.style.top = `${y}px`;
                game.appendChild(this.element);
                this.move();
            }
            move() {
                let interval = setInterval(() => {
                    this.element.style.left = `${parseInt(this.element.style.left) - 2}px`;
                    if (parseInt(this.element.style.left) < 0) {
                        gameOver();
                        clearInterval(interval);
                    }
                }, 100);
            }
        }

        function gameOver() {
            gameOverScreen.style.display = "block";
        }

        restartButton.addEventListener("click", () => {
            location.reload();
        });

        new Plant(100, 150);
        setInterval(() => {
            new Zombie(750, Math.random() * 350);
        }, 3000);
    </script>
</body>
</html>
