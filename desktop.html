<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PVZ 2D Prototype</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; }
        canvas { display: block; background-color: #8B8B8B; }
        #plant-selection {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255, 255, 255, 0.8);
            padding: 10px;
            border-radius: 5px;
            z-index: 10;
        }
        .plant-button {
            margin: 5px;
            padding: 5px 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="plant-selection">
        <button class="plant-button" onclick="selectPlant('peashooter')">Peashooter (100 Sun)</button>
        <button class="plant-button" onclick="selectPlant('sunflower')">Sunflower (50 Sun)</button>
        <p>Sun: <span id="sun-count">0</span></p>
    </div>
    <canvas id="gameCanvas"></canvas>
    
    <script>
        // Setup canvas
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Game Variables
        let sunPoints = 100;
        let selectedPlant = null;
        const plants = [];
        const zombies = [];
        let plantTextures = {};
        let zombieTexture = new Image();
        let backgroundTexture = new Image();

        // Load assets (textures)
        function loadTextures() {
            plantTextures.peashooter = new Image();
            plantTextures.peashooter.src = 'peashooter.png'; // Replace with your image path
            plantTextures.sunflower = new Image();
            plantTextures.sunflower.src = 'sunflower.png'; // Replace with your image path
            zombieTexture.src = 'zombie.png'; // Replace with your image path
            backgroundTexture.src = 'background.png'; // Replace with your image path
        }

        // Game Update
        function update() {
            // Clear the canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw background
            ctx.drawImage(backgroundTexture, 0, 0, canvas.width, canvas.height);

            // Draw Plants
            plants.forEach(plant => {
                ctx.drawImage(plantTextures[plant.type], plant.x, plant.y, 50, 50);
            });

            // Draw Zombies
            zombies.forEach(zombie => {
                ctx.drawImage(zombieTexture, zombie.x, zombie.y, 50, 50);
                zombie.x -= 1; // Move zombies leftwards
            });

            // Update Sun Points UI
            document.getElementById('sun-count').textContent = sunPoints;

            requestAnimationFrame(update);
        }

        // Handle clicks for placing plants
        canvas.addEventListener('click', (event) => {
            const mouseX = event.clientX;
            const mouseY = event.clientY;

            if (selectedPlant) {
                if (selectedPlant === 'peashooter' && sunPoints >= 100) {
                    sunPoints -= 100;
                    plants.push({ type: 'peashooter', x: mouseX - 25, y: mouseY - 25 });
                } else if (selectedPlant === 'sunflower' && sunPoints >= 50) {
                    sunPoints -= 50;
                    plants.push({ type: 'sunflower', x: mouseX - 25, y: mouseY - 25 });
                }
            }
        });

        // Handle plant selection
        function selectPlant(plantType) {
            selectedPlant = plantType;
        }

        // Spawn Zombies
        function spawnZombie() {
            zombies.push({ x: canvas.width, y: Math.random() * canvas.height });
        }

        // Start the game
        function startGame() {
            loadTextures();
            setInterval(spawnZombie, 3000); // Spawn zombie every 3 seconds
            update();
        }

        // Initialize the game
        startGame();
    </script>
</body>
</html>
